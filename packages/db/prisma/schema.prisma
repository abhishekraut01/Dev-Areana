generator client {
  provider = "prisma-client-js"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id                      String            @id @default(uuid())
  email                   String            @unique
  role                    Role
  createdAt               DateTime
  updatedAt               DateTime
}

enum Role {
  User
  Admin
}

model challenge {
  id                      String             @id @default(uuid())
  title                   String
  notionDocId             String             @unique
  maxPoints               Int
  createdAt               DateTime
  updatedAt               DateTime
}

model contest {
  id                      String             @id @default(uuid())
  title                   String
  startTime               DateTime
  createdAt               DateTime
  updatedAt               DateTime
}

model ContestToChallengeMapping{
  id                      String             @id @default(uuid())
  contestId               String
  challengeId             String
  index                   Int
  @@unique([contestId , challengeId]) //if one challenge is appread in the contest abc the same challenge should not appear twice
}

model submission {
  id                      String             @id @default(uuid())
  contestId               String
  challengeId             String
  createdAt               DateTime
}
